class FluidSimulation{constructor(){this.canvas=document.getElementById("fluid-canvas"),this.ctx=this.canvas.getContext("2d"),this.adjustToScreen(),window.addEventListener("resize",()=>this.adjustToScreen()),this.isMobile=window.innerWidth<768,this.particleCount=this.isMobile?80:150,this.maxRadius=this.isMobile?20:30,this.minRadius=this.isMobile?3:5,this.particles=[],this.initParticles(),this.animate()}adjustToScreen(){var t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this.canvas.width=t,this.canvas.height=i,this.width=t,this.height=i,0<this.particles.length&&this.particles.forEach(t=>{t.x=Math.min(Math.max(t.x,0),this.width),t.y=Math.min(Math.max(t.y,0),this.height),t.dx=this.isMobile?.8*t.dx:t.dx,t.dy=this.isMobile?.8*t.dy:t.dy})}initParticles(){this.particles=[];for(let t=0;t<this.particleCount;t++)this.particles.push({x:Math.random()*this.width,y:Math.random()*this.height,radius:Math.random()*(this.maxRadius-this.minRadius)+this.minRadius,color:this.getRandomColor(),dx:(Math.random()-.5)*(this.isMobile?1.2:2),dy:(Math.random()-.5)*(this.isMobile?1.2:2),opacity:.5*Math.random()+.2})}getRandomColor(){var t=this.isMobile?.6*Math.random()+.3:.8*Math.random()+.2,t=["rgba(70, 130, 180, "+t+")","rgba(106, 90, 205, "+t+")","rgba(22, 160, 133, "+t+")","rgba(148, 148, 148, "+t+")"];return t[Math.floor(Math.random()*t.length)]}drawParticles(){this.ctx.clearRect(0,0,this.width,this.height),this.particles.forEach(t=>{this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.radius,0,2*Math.PI),this.ctx.fillStyle=t.color,this.ctx.fill(),this.ctx.closePath(),t.x+=t.dx,t.y+=t.dy,(t.x<0||t.x>this.width)&&(t.dx=-t.dx),(t.y<0||t.y>this.height)&&(t.dy=-t.dy)})}animate(){this.drawParticles(),requestAnimationFrame(()=>this.animate())}}window.addEventListener("load",()=>{setTimeout(()=>{window.fluidInstance=new FluidSimulation},100)}),document.addEventListener("touchmove",t=>{if(window.fluidInstance&&0<t.touches.length){let h=t.touches[0];window.fluidInstance.particles.forEach(t=>{var i=h.clientX-t.x,a=h.clientY-t.y;Math.sqrt(i*i+a*a)<80&&(t.x+=.015*i,t.y+=.015*a)})}});